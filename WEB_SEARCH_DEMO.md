# 🌐 网络搜索功能演示

## 功能概述

网络搜索功能让用户可以直接从搜索界面跳转到网络搜索引擎，无缝衔接本地搜索和网络搜索。

## 🚀 主要特性

### 1. 智能搜索引擎检测
- 🔍 自动检测浏览器默认搜索引擎
- 🌍 基于用户语言地区智能推荐
- 💾 用户偏好设置持久化保存

### 2. 多搜索引擎支持
支持以下主流搜索引擎：

| 搜索引擎 | 图标 | 描述 | 适用地区 |
|---------|-----|------|----------|
| Google | 🔍 | 全球最大的搜索引擎 | 全球 |
| 百度 | 🅱️ | 中国最大的中文搜索引擎 | 中国 |
| Bing | 🅱️ | 微软搜索引擎 | 全球 |
| Yahoo | 🟣 | 雅虎搜索引擎 | 全球 |
| DuckDuckGo | 🦆 | 隐私保护搜索引擎 | 全球 |
| Yandex | 🟥 | 俄罗斯搜索引擎 | 俄罗斯 |
| 搜狗 | 🐶 | 搜狗搜索引擎 | 中国 |
| 360搜索 | ⭕ | 360搜索引擎 | 中国 |

### 3. 用户界面集成
- 📝 在搜索结果下方显示网络搜索建议
- 🎨 美观的卡片式设计
- ⚡ 一键点击直接搜索

## 📖 使用方法

### 基本使用流程

1. **打开搜索界面**
   - 点击浏览器工具栏中的扩展图标
   - 或使用快捷键 `Ctrl+Shift+S`

2. **输入搜索关键字**
   - 在搜索框中输入您要搜索的内容
   - 例如："Vue.js 教程"

3. **查看本地搜索结果**
   - 系统会显示匹配的书签、历史记录和下载文件

4. **使用网络搜索**
   - 在搜索结果下方会出现网络搜索建议卡片
   - 显示格式：`在[搜索引擎]中搜索"[关键字]"`
   - 点击"搜索"按钮跳转到网络搜索

### 高级功能

#### 🔧 自定义搜索引擎
1. 进入设置页面
2. 选择"搜索引擎设置"
3. 从下拉列表中选择您偏好的搜索引擎
4. 设置会自动保存并应用

#### 🔍 搜索URL预览
- 在测试页面可以查看生成的搜索URL
- 确保搜索参数正确编码
- 支持中文等特殊字符

## 🛠️ 技术实现

### 核心模块
- `utils/searchEngines.ts` - 搜索引擎管理
- `components/PopupApp.vue` - 主界面集成
- `entrypoints/background.ts` - 后台消息处理

### 关键功能
```typescript
// 获取默认搜索引擎
const defaultEngine = await getDefaultSearchEngine();

// 执行网络搜索
await performWebSearch(engineId, query, inNewTab);

// 构建搜索URL
const searchUrl = buildWebSearchUrl(engineId, query);
```

### 存储配置
```javascript
// 用户偏好搜索引擎
chrome.storage.local.set({
  preferredSearchEngine: "google"
});

// 检测到的默认搜索引擎
chrome.storage.local.set({
  defaultSearchEngine: "baidu"
});
```

## 🎯 使用场景

### 场景1：本地搜索未找到结果
```
用户搜索: "最新Vue3特性"
本地结果: 无匹配项
网络搜索: 显示"在Google中搜索'最新Vue3特性'"
操作: 点击搜索按钮 → 在新标签页打开Google搜索结果
```

### 场景2：需要更全面的信息
```
用户搜索: "JavaScript"
本地结果: 显示相关书签和历史记录
网络搜索: 提供"在百度中搜索'JavaScript'"选项
操作: 获取更多在线资源和最新信息
```

### 场景3：快速网络搜索
```
用户输入: "天气预报"
直接操作: 点击网络搜索建议
结果: 快速跳转到搜索引擎获取实时信息
```

## 🔍 调试和测试

### 使用测试组件
1. 创建测试页面集成 `WebSearchTest.vue`
2. 验证搜索引擎加载和切换
3. 测试搜索URL生成
4. 确认搜索执行功能

### 控制台调试
```javascript
// 在浏览器控制台中测试
chrome.runtime.sendMessage({
  action: 'get-default-search-engine'
}).then(response => {
  console.log('默认搜索引擎:', response.engine);
});
```

## 📋 注意事项

### 权限要求
- `search` - 访问搜索引擎配置
- `tabs` - 创建新标签页
- `storage` - 保存用户偏好

### 兼容性
- 支持Chrome和基于Chromium的浏览器
- 需要WXT框架支持
- 兼容Element Plus UI组件

### 错误处理
- 网络搜索失败时显示错误提示
- 搜索引擎检测失败时使用默认引擎
- 无效搜索关键字时禁用搜索按钮

## 🚀 未来计划

### 增强功能
- [ ] 搜索建议和自动完成
- [ ] 更多搜索引擎支持
- [ ] 搜索历史和统计
- [ ] 自定义搜索引擎配置

### 用户体验
- [ ] 搜索结果预览
- [ ] 快捷键直接触发网络搜索
- [ ] 搜索引擎图标优化
- [ ] 多语言界面支持

---

通过这个网络搜索功能，用户可以在一个界面中同时享受本地搜索的便利和网络搜索的全面性，大大提升了搜索效率和用户体验。 